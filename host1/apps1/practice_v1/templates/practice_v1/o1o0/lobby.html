{% load static %} {% comment %} ğŸ‘ˆã‚ã¨ã§ static "URL" ã‚’ä½¿ã†ã®ã§ load static ã—ã¾ã™ {% endcomment %}
<!DOCTYPE html>
<!-- See also: https://qiita.com/zaburo/items/ab7f0eeeaec0e60d6b92 -->
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}" />
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet" />
        <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet" />
        <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ãƒ­ãƒ“ãƒ¼ï¼ˆå¾…åˆå®¤ï¼‰</title>
    </head>
    <body>
        <div id="app">
            <v-app>
                <!-- v-app-bar ã« app ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒ‡å®šã—ãªã„ãªã‚‰ã€èƒŒæ™¯ç”»åƒã‚’ä»˜ã‘ã¦ã»ã—ã„ -->
                <v-app-bar app dense elevation="4">
                    <v-app-bar-nav-icon></v-app-bar-nav-icon>
                    <v-toolbar-title>ã‚²ãƒ¼ãƒ å¯¾å±€ã‚µãƒ¼ãƒãƒ¼</v-toolbar-title>
                    <v-spacer></v-spacer>
                    <v-btn class="my-4" color="primary" :href="createPathOfHome()">è‡ªåˆ†ã®ãƒ›ãƒ¼ãƒ ã¸å¸°ã‚‹</v-btn>
                </v-app-bar>
                <v-main>
                    <v-container>
                        <h2>ãƒ­ãƒ“ãƒ¼ï¼ˆå¾…åˆå®¤ï¼‰</h2>
                        <h3>éƒ¨å±‹ä¸€è¦§</h3>
                        <v-simple-table>
                            <template v-slot:default>
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>éƒ¨å±‹å</th>
                                        <th>ç›¤é¢</th>
                                        <th>æ£‹è­œ</th>
                                        <th>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="room in vu_roomDic" :key="room.pk">
                                        {% comment %} Vue ã§äºŒé‡æ³¢æ‹¬å¼§ï¼ˆbracesï¼‰ã¯å¤‰æ•°ã®å±•é–‹ã«ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€ Python ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«äºŒé‡æ³¢æ‹¬å¼§ã‚’å¤‰æ•°ã®å±•é–‹ã«ä½¿ã‚ãªã„ã‚ˆã† verbatim ã§æŒ‡ç¤ºã—ã¾ã™ã€‚ {% endcomment %} {% verbatim %}
                                        <td>{{ room.pk }}</td>
                                        <td>{{ room.name }}</td>
                                        <td>{{ room.board }}</td>
                                        <td>{{ room.record }}</td>
                                        <td><v-btn :href="createPathOfRoomsRead(room.pk)">è¦³ã‚‹</v-btn></td>
                                        {% endverbatim %}
                                    </tr>
                                </tbody>
                            </template>
                        </v-simple-table>
                    </v-container>
                    <v-container>
                        <h3>ã‚¢ã‚¯ãƒ†ã‚£ãƒ– ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§</h3>
                        <v-simple-table>
                            <template v-slot:default>
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>å‚åŠ è€…å</th>
                                        <th>ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‹</th>
                                        <th>æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="user in vu_userDoc" :key="user.pk">
                                        {% comment %} Vue ã§äºŒé‡æ³¢æ‹¬å¼§ï¼ˆbracesï¼‰ã¯å¤‰æ•°ã®å±•é–‹ã«ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€ Python ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«äºŒé‡æ³¢æ‹¬å¼§ã‚’å¤‰æ•°ã®å±•é–‹ã«ä½¿ã‚ãªã„ã‚ˆã† verbatim ã§æŒ‡ç¤ºã—ã¾ã™ã€‚ {% endcomment %} {% verbatim %}
                                        <td>{{ user.pk }}</td>
                                        <td>{{ user.username }}</td>
                                        <td>{{ user.is_active }}</td>
                                        <td>{{ user.last_login }}</td>
                                        {% endverbatim %}
                                    </tr>
                                </tbody>
                            </template>
                        </v-simple-table>
                    </v-container>
                </v-main>
            </v-app>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
        <script>
            let vue1 = new Vue({
                el: "#app",
                vuetify: new Vuetify(),
                data: {
                    // "vu_" ã¯ ã€Œvue1.dataã®ãƒ¡ãƒ³ãƒãƒ¼ã€ ã®ç›®å°
                    vu_roomDic: JSON.parse("{{ dj_room_dic|escapejs }}"),
                    vu_userDoc: JSON.parse("{{ dj_user_dic|escapejs }}"),

                    vu_pathOfHome: "{{ dj_path_of_home }}",
                    vu_pathOfRoomsRead: "{{ dj_path_of_rooms_read }}",
                },
                methods: {
                    createPathOfHome() {
                        let url = `${location.protocol}//${location.host}${this.vu_pathOfHome}`;
                        //          --------------------  ---------------]---------------------
                        //          1                     2               3
                        // 1. protocol
                        // 2. host
                        // 3. path
                        console.log(`room url=[${url}]`);
                        return url;
                    },
                    createPathOfRoomsRead(roomId) {
                        let url = `${location.protocol}//${location.host}${this.vu_pathOfRoomsRead}${roomId}`;
                        //          --------------------  ---------------]-----------------------------------
                        //          1                     2               3
                        // 1. protocol
                        // 2. host
                        // 3. path
                        console.log(`room url=[${url}]`);
                        return url;
                    },
                },
            });
        </script>
    </body>
</html>
