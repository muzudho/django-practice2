# ç›®çš„

ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯ãªãï¼‰ã‚µãƒ¼ãƒãƒ¼å´ã«ã€ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜æ†¶ã—ãŸã„  

# ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã¯ Lesson0 ã‹ã‚‰é †ã«å…¨éƒ¨ã‚„ã£ã¦ã“ãªã„ã¨ ã‚½ãƒ¼ã‚¹ãŒè¶³ã‚Šãšå®Ÿè¡Œã§ããªã„ã®ã§æ³¨æ„ã•ã‚ŒãŸã„ã€‚  
é€£è¼‰ã®ç›®æ¬¡: ğŸ“– [Djangoã¨Dockerã§ã‚²ãƒ¼ãƒ å¯¾å±€ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã‚ã†ï¼](https://qiita.com/muzudho1/items/eb0df0ea604e1fd9cdae)  

ã“ã®è¨˜äº‹ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:  

| Key       | Value                                     |
| --------- | ----------------------------------------- |
| OS        | Windows10                                 |
| Container | Docker                                    |
| Auth      | allauth                                   |
| Editor    | Visual Studio Code ï¼ˆä»¥ä¸‹ VSCode ã¨è¡¨è¨˜ï¼‰ |

å‚è€ƒã«ã—ãŸå…ƒè¨˜äº‹ã¯ ğŸ“–[Djangoã§CRUD](https://qiita.com/zaburo/items/ab7f0eeeaec0e60d6b92) ã ã€‚  
ã‚ãŸã—ã®è¨˜äº‹ã¯å˜ã« **ã‚„ã£ã¦ã¿ãŸ** ãã‚‰ã„ã®ä½ç½®ã¥ã‘ã   

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’æŠœç²‹ã™ã‚‹ã¨ ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹  

```plaintext
    â”œâ”€â”€ ğŸ“‚host1
    â”‚   â”œâ”€â”€ ğŸ“‚apps1
    â”‚   â”‚   â”œâ”€â”€ ğŸ“‚allauth_customized    # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å
    â”‚   â”‚   â”œâ”€â”€ ğŸ“‚portal                # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚data
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„finished-lesson.csv
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚migrations
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„__init__.py
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚static
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸš€favicon.ico
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚templates
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚portal
    â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“‚v0o0o1
    â”‚   â”‚   â”‚   â”‚           â””â”€â”€ ğŸ“„portal_base.html
    â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚views
    â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“‚v0o0o1
    â”‚   â”‚   â”‚           â””â”€â”€ ğŸ“„pages.py
    â”‚   â”‚   â””â”€â”€ ğŸ“‚practice              # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å
    â”‚   â”œâ”€â”€ ğŸ“‚data
    â”‚   â”œâ”€â”€ ğŸ“‚project1                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„__init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„asgi.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„settings_secrets_example.txt
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„settings.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„urls_accounts.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„urls_practice.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„urls.py
    â”‚   â”‚   â””â”€â”€ ğŸ“„wsgi.py
    â”‚   â”œâ”€â”€ ğŸ“‚project2
    â”‚   â”œâ”€â”€ ğŸ³docker-compose-project2.yml
    â”‚   â”œâ”€â”€ ğŸ³docker-compose.yml
    â”‚   â”œâ”€â”€ ğŸ³Dockerfile
    â”‚   â”œâ”€â”€ ğŸ“„manage.py
    â”‚   â””â”€â”€ ğŸ“„requirements.txt
    â””â”€â”€ ğŸ“„.gitignore
```

# Step 1. Dockerã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•

ğŸ‘‡ ï¼ˆã—ã¦ã„ãªã‘ã‚Œã°ï¼‰ Docker ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¦ãŠã„ã¦ã»ã—ã„  

```shell
# docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã¸ç§»å‹•ã—ã¦ã»ã—ã„
cd host1

# Docker ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
docker-compose up
```

# Step 2. ãƒ¢ãƒ‡ãƒ«ä½œæˆ - m_prefecture.py ãƒ•ã‚¡ã‚¤ãƒ«

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã»ã—ã„

```plaintext
    â””â”€â”€ ğŸ“‚host1
        â””â”€â”€ ğŸ“‚apps1
            â””â”€â”€ ğŸ“‚practice          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼
                â””â”€â”€ ğŸ“‚models
                    â””â”€â”€ ğŸ“‚v0o0o1
ğŸ‘‰                      â””â”€â”€ m_prefecture.py
```

```py
# See also: https://qiita.com/zaburo/items/ab7f0eeeaec0e60d6b92
from django.db import models


class Prefecture(models.Model):
    """éƒ½é“åºœçœŒ"""

    # ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä»•æ§˜ã‚’æ±ºã‚ã‚‹æ„Ÿã˜ã§
    seq = models.AutoField('é€£ç•ª', primary_key=True)
    name = models.CharField('åå‰', max_length=4)
    # email = models.CharField('E-Mail', max_length=255)
    # age = models.IntegerField('å¹´é½¢', blank=True, default=0)
    # stateInPark = models.IntegerField('çŠ¶æ…‹1', blank=False, default=0)

    def __str__(self):
        """ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—ã«ã—ãŸã¨ãè¿”ã‚‹ã‚‚ã®"""
        return f"{self.name} prefecture"
```

# Step 3. ãƒ¢ãƒ‡ãƒ«ç™»éŒ² - admin.py ãƒ•ã‚¡ã‚¤ãƒ«

ğŸ‘‡ ä»¥ä¸‹ã®æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½è¨˜ã—ã¦ã»ã—ã„  

```plaintext
    â””â”€â”€ ğŸ“‚host1
        â””â”€â”€ ğŸ“‚apps1
            â””â”€â”€ ğŸ“‚practice          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
ğŸ‘‰              â””â”€â”€ admin.py
```

```py
from django.contrib import admin

from .models.v0o0o1.m_prefecture import Prefecture
#    ---------------------------        ----------
#    1                                  2
#
# 1. ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ `models/v0o0o1/m_prefecture.py` ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­æŠœã
#                                      --------------------------
# 2. ã‚¯ãƒ©ã‚¹å

# Register your models here.
#   â””â”€â”€ * ç®¡ç†ç”»é¢ã«ãƒ¢ãƒ‡ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹
#       â””â”€â”€ * `manage.py makemigrations` ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œå¯¾è±¡ã«ãªã‚‹
admin.site.register(Prefecture)
```

ğŸ‘† ç®¡ç†ç”»é¢ã« Prefecture ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹  

# Step 4. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ - ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼œãã®ï¼‘ï¼

```shell
# docker-compose.yml ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã¸ç§»å‹•ã—ã¦ã»ã—ã„
# cd host1

docker-compose run --rm web python3 manage.py makemigrations practice
#                                                            --------
#                                                            1
# 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å
#    settings.py ã« `apps1.practice` ã¨ æ›¸ã„ã¦ã„ã¦ã‚‚ã€ã“ã“ã«ã¯ `practice` ã¨æ›¸ã
```

ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹  

```plaintext
    â””â”€â”€ ğŸ“‚host1
        â””â”€â”€ ğŸ“‚apps1
            â””â”€â”€ ğŸ“‚practice          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
                â””â”€â”€ ğŸ“‚migrations
                    â”œâ”€â”€ ğŸ“„__init__.py
                    â””â”€â”€ ğŸ“„0001_initial.py
```

ğŸ‘† ã“ã®ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ•ã‚¡ã‚¤ãƒ« ã¨å‘¼ã¶ã‚‰ã—ã„  

ã¾ã  ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæ¥­ã¯å®Œäº†ã—ã¦ã„ãªã„  

# Step 5. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ - ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼œãã®ï¼’ï¼

```shell
docker-compose run --rm web python manage.py migrate
```

ğŸ‘† ã“ã“ã¾ã§ã‚„ã£ã¦ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¨ã„ã†ä½œæ¥­ãŒçµ‚ã‚ã‚‹ã‚‰ã—ã„  

# Step 6. ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§Webã®ç®¡ç†ç”»é¢ã¸ã‚¢ã‚¯ã‚»ã‚¹

ğŸ‘‡ ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã“ã¨  

ğŸ“– [http://localhost:8000/admin](http://localhost:8000/admin)  

ğŸ‘‡ ç”»é¢å·¦ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°OK  

```plain
+----------------------------------+
| PRACTICE                         |
+-------------+--------+-----------+
| Prefecuters | â• Add | ğŸ–Š Change |
+-------------+--------+-----------+
```

# Step 7. Prefecture ã‚’ï¼“ã¤ã»ã©è¿½åŠ ã—ã¦ã»ã—ã„

Prefectures ãƒ©ãƒ™ãƒ«ã®å³æ¨ªã® `â• Add` ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã»ã—ã„  

```plaintext
åå‰:
     ----------------

                [Save and add another] [Save and continue editing] [SAVE]
```

ğŸ‘† å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒå‡ºã¦ãã‚‹ã‹ã‚‰ã€ï¼“ä»¶ã»ã©é©å½“ã«è¿½åŠ ã—ã¦ã»ã—ã„ã€‚  
`[SAVE]` ãŒè¿½åŠ ãƒœã‚¿ãƒ³ã®ã‚ˆã†ã   

# Step 8. ç™»éŒ²ã—ãŸ Prefecture ã‚’ç¢ºèªã—ã¦ã»ã—ã„

`Prefectures` ãƒ©ãƒ™ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸€è¦§ç”»é¢ãŒå‡ºã¦ãã‚‹  

# æ¬¡ã®è¨˜äº‹

ğŸ“– [Djangoã§ãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä¸€è¦§è¡¨ç¤ºã‚’ã—ã‚ˆã†ï¼](https://qiita.com/muzudho1/items/77668130b6d941596327)  

# å‚è€ƒã«ã—ãŸè¨˜äº‹

ğŸ“– [Django model data types and fields list](https://www.geeksforgeeks.org/django-model-data-types-and-fields-list/)  
